{"version":3,"sources":["../src/Helpers.js"],"names":[],"mappings":"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","file":"Helpers.js","sourcesContent":["\nimport { clone } from \"./DateUtils\";\nimport { getFirstDayOfWeek } from \"./LocaleUtils\";\n\nexport function startOfMonth(d) {\n  const newDate = clone(d);\n  newDate.setDate(1);\n  newDate.setHours(12, 0, 0, 0); // always set noon to avoid time zone issues\n  return newDate;\n}\n\nexport function getFirstDayOfMonth(d) {\n  return new Date(d.getFullYear(), d.getMonth(), 1, 12);\n}\n\nexport function getDaysInMonth(d) {\n  const resultDate = getFirstDayOfMonth(d);\n\n  resultDate.setMonth(resultDate.getMonth() + 1);\n  resultDate.setDate(resultDate.getDate() - 1);\n\n  return resultDate.getDate();\n}\n\nexport function getWeekArray(d, firstDayOfWeek=getFirstDayOfWeek(), minWeeks=0) {\n  const daysInMonth = getDaysInMonth(d);\n  const dayArray = [];\n\n  let week = [];\n  const weekArray = [];\n\n  // populate dayArray with an array of dates \n  // for each day of the month, setting the time at noon\n  for (let i = 1; i <= daysInMonth; i++) {\n    dayArray.push(new Date(d.getFullYear(), d.getMonth(), i, 12));\n  }\n\n  // use the dayArray to populate the weekArray, a collection\n  // of arrays containing date objects\n  dayArray.forEach((day) => {\n    // bounds check, start a new week if day is first day of the week\n    if(week.length > 0 && day.getDay() === firstDayOfWeek) {\n      weekArray.push(week);\n      week = [];\n    }\n    // add the current day to the current week\n    week.push(day);\n    // if the current day is the last day of the month,\n    // add the current week to the weeksArray\n    if (dayArray.indexOf(day) === dayArray.length - 1) {\n      weekArray.push(week);\n    }\n  });\n\n  // unshift days to start the first week\n  const firstWeek = weekArray[0];\n  for (let i = 7 - firstWeek.length; i > 0; i--) {\n    const outsideDate = clone(firstWeek[0]);\n    outsideDate.setDate(firstWeek[0].getDate() - 1);\n    firstWeek.unshift(outsideDate);\n  }\n\n  // push days until the end of the last week\n  const lastWeek = weekArray[weekArray.length - 1];\n  for (let i = lastWeek.length; i < 7; i++) {\n    const outsideDate = clone(lastWeek[lastWeek.length - 1]);\n    outsideDate.setDate(lastWeek[lastWeek.length - 1].getDate() + 1);\n    lastWeek.push(outsideDate);\n  }\n\n  // if minWeeks hasn't been met yet, continue adding days until\n  // the minimum has been met\n  if (weekArray.length < minWeeks) {\n    const lastWeekIndex = weekArray.length - 1;\n    const lastDayIndex = weekArray[lastWeekIndex].length - 1\n    const lastDay = weekArray[lastWeekIndex][lastDayIndex];\n    const numWeeksToAdd = minWeeks - weekArray.length;\n    // for each week that needs to be added, populate a new\n    // week array and add it to the weeksArray\n    for (let weekNum = 0; weekNum < numWeeksToAdd; weekNum++) {\n      week = [];\n      // for each day in the week, increment the lastDay by 1 day\n      // and append it to the week array\n      for (let dayNum = 0; dayNum < 7; dayNum++) {\n        lastDay.setDate(lastDay.getDate() + 1);\n        week.push(clone(lastDay))\n      }\n      weekArray.push(week);\n    }\n  }\n\n  return weekArray;\n}\n\nexport function getModifiersForDay(d, modifierFunctions) {\n  const modifiers = [];\n  if (modifierFunctions) {\n    for (const modifier in modifierFunctions) {\n      const func = modifierFunctions[modifier];\n      if (func(d)) {\n        modifiers.push(modifier);\n      }\n    }\n  }\n  return modifiers;\n}\n\nexport function getMonthsDiff(d1, d2) {\n  return d2.getMonth() - d1.getMonth() +\n    (12 * (d2.getFullYear() - d1.getFullYear()));\n}\n"]}